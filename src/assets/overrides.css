/* Fonts */
.font-sans,
.font-display {
  --font-fk-grotesk     : var(--ui-font) !important;
  --font-fk-grotesk-neue: var(--ui-font) !important;
}

code {
  font-family: var(--mono-font) !important;
  font-weight: normal !important;
}

/* Pro search thumb */
div.data-\[state\=checked\]\:before\:\!bg-super[data-state="checked"]:before,
div.data-\[state\=checked\]\:dark\:before\:\!bg-superDark:is(.dark *)[data-state="checked"]:before {
  background-color: var(--accent-foreground) !important;
}

/* Inline code styles */
.prose :where(code):not(:where([class~="not-prose"] *))::before,
.prose :where(code):not(:where([class~="not-prose"] *))::after {
  content: "" !important;
}

.prose :where(code):not(:where([class~="not-prose"] *)) {
  background-color: var(--secondary);
  color           : var(--accent-foreground) !important;
  padding         : 0.1rem 0.3125rem !important;
  border-radius   : 0.375rem !important;
}

.codeWrapper code>span {
  padding: 0 !important;
}

/* Citation styles */
.citation>div>span>div {
  background-color: var(--accent-foreground) !important;
  color           : var(--foreground) !important;
  border-radius   : 0.375rem !important;
}

.citation>div>span>div:not(:hover) {
  opacity: 0.5 !important;
}

/* Typography */
.marker\:font-mono ::marker {
  font-family: var(--mono-font) !important;
}

strong,
h2,
h3,
h4,
h5,
h6 {
  color: var(--accent-foreground) !important;
}

th {
  border: 1px solid var(--border) !important;
  color : var(--foreground) !important;
}

/* Messages borders */
.message-block:not(:last-of-type) {
  border-bottom-color: var(--ring-darker) !important;
}

/* Background colors */
html,
html.dark,
:is(.dark .dark\:bg-backgroundDark) {
  background-color: var(--background) !important;
}

div.dark\:\!bg-textMainDark:is(.dark *) {
  background-color: var(--background) !important;
}

:is(.dark .dark\:bg-offsetDark),
:is(.dark .dark\:\!bg-offsetDark),
:is(.dark .dark\:focus\:bg-offsetDark:focus),
:is(.dark .md\:dark\:hover\:bg-offsetDark:hover) {
  background-color: var(--secondary) !important;
}

.hebEKa,
.gnFpAY {
  background-color: var(--secondary) !important;
}

/* Hover and group styles */
.group:hover .group-hover\:\!bg-super {
  background-color: var(--accent-foreground) !important;
}

[data-color-scheme="dark"] .dark\:bg-superDark\/10,
[data-color-scheme="dark"] .bg-super\/10 {
  background-color: var(--accent-foreground-darker) !important;
}

[data-color-scheme="dark"] .dark\:bg-superDark\/10 .text-super.dark\:text-superDark,
[data-color-scheme="dark"] .bg-super\/10 .text-super.dark\:text-superDark {
  color: var(--foreground) !important;
}

/* Selection styles */
.markdown-highlight,
.selection\:bg-superDuper::selection,
.selection\:text-textMain ::selection,
[data-color-scheme="dark"] .dark\:selection\:text-super ::selection {
  background-color: var(--selection) !important;
  color           : var(--selection-foreground) !important;
}

/* Z-index adjustments */
.pointer-events-none.fixed.bottom-mobileNavHeight {
  z-index: 12 !important;
}

.data-\[state\=open\]\:animate-slideUpAndFadeIn {
  z-index: 2;
}

/* SVG and icon styles */
.fill-super,
.group:hover .group-hover\:fill-superDuper,
:is([data-color-scheme="dark"] .dark\:fill-superDark) {
  fill: var(--accent-foreground) !important;
}

.caret-superDuper {
  caret-color: var(--accent-foreground) !important;
}

.stroke-super,
.group:hover .group-hover\:stroke-superDuper,
:is([data-color-scheme="dark"] .dark\:stroke-superDark),
:is([data-color-scheme="dark"] .dark\:stroke-textMainDark) {
  stroke: var(--accent-foreground) !important;
}

/* Outline and ring styles */
:is([data-color-scheme="dark"] .dark\:outline-superDark) {
  outline-color: var(--accent-foreground) !important;
}

[data-color-scheme="dark"] .dark\:hover\:ring-superDark:hover,
.hover\:\!ring-super:hover,
.hover\:ring-super:hover,
:is([data-color-scheme="dark"] .dark\:focus\:ring-borderMainDark:focus),
[data-color-scheme="dark"] .dark\:ring-superDark,
.ring-super {
  --tw-ring-color: var(--accent-foreground) !important;
}

/* Text and background color combinations */
.\!bg-textMain .text-textMain path {
  color           : var(--accent-foreground) !important;
  background-color: var(--accent-foreground) !important;
}

[data-color-scheme="dark"] .dark\:text-textMainDark {
  color: var(--text-main) !important;
}

[data-color-scheme="dark"] .dark\:\!text-backgroundDark {
  color: var(--text-main) !important;
}

[data-color-scheme="dark"] .dark\:\!text-backgroundDark * {
  color: var(--accent-foreground) !important;
}

.ring-2 {
  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow),
    var(--tw-shadow, 0 0 #0000) !important;
}

/* Background and text color combinations */
.bg-super,
.md\:hover\:bg-super:hover {
  background-color: var(--accent-foreground) !important;
}

.text-super,
.group:hover .md\:group-hover\:text-super,
.prose :where(a):not(:where([class~="not-prose"] *)),
:is([data-color-scheme="dark"] .dark\:md\:hover\:text-textMainDark:hover) {
  color: var(--accent-foreground) !important;
}

/* Selection styles for dark mode */
[data-color-scheme="dark"] .selection\:text-textMain::selection,
[data-color-scheme="dark"] .selection\:bg-superDuper ::selection,
[data-color-scheme="dark"] code::selection,
[data-color-scheme="dark"] code *::selection {
  background-color: var(--selection) !important;
  color           : var(--selection-foreground) !important;
}

/* Selection styles for light mode */
.selection\:text-textMain::selection,
.selection\:bg-superDuper ::selection,
html:not([data-color-scheme="dark"]) code::selection,
html:not([data-color-scheme="dark"]) code *::selection {
  background-color: var(--selection) !important;
  color           : var(--selection-foreground) !important;
}

/* Specific element styles */
.mb-sm.flex.w-full.items-center.justify-between svg {
  color: var(--accent-foreground) !important;
}

.focus\:ring-superDark:focus {
  --tw-ring-color: var(--accent-foreground) !important;
}

/* Popovers behavior normalization */
body[data-scroll-locked].bg-transparent {
  --removed-body-scroll-bar-size: 0 !important;
  margin-right                  : 0 !important;
  overflow                      : unset !important;
  pointer-events                : auto !important;
}

html {
  overflow: unset !important;
}

[location="thread"],
[location="page"] {

  /* Math styles */
  .math .katex .frac-line {
    border-bottom-color: var(--accent-foreground-darker) !important;
  }

  /* Adjust query box position */
  .grow.block {
    border: 1px solid var(--border-darker) !important;
    border-radius: calc(var(--radius) - 2px) !important;
    background: var(--secondary);
    box-shadow: 0 0 10px 0 rgba(0, 0, 0, 0.2) !important;
  }

  .grow.block > div {
    border-radius: 0.375rem;
  }

  .grow.block > div > div {
    border-radius: 0.375rem;
  }

  .grow.block > div > div > div {
    display: grid !important;
    grid-template-columns: repeat(3, minmax(0, 1fr)) !important;
    grid-template-rows: 1fr auto !important;
  }

  .grow.block > div > div > div > div:nth-child(1) {
    order: 0;
    grid-column: span 3 / span 3;
    grid-column-start: 1;
  }

  .grow.block > div > div > div > div:nth-child(2) {
    grid-column: span 2 / span 2;
    grid-column-start: 1;
    align-items: center;
    order: 1;
  }

  .grow.block > div > div > div > div:nth-child(3) {
    grid-column: span 1 / span 1;
  }

  .pointer-events-none.fixed.bottom-mobileNavHeight>.pointer-events-auto.md\:col-span-8:has(textarea) {
    grid-column: span 12 / span 12 !important;
    z-index    : 20 !important;
  }


  @media (min-width: 768px) {
    .pointer-events-none.fixed.bottom-mobileNavHeight {
      margin-top: 0;
      bottom    : 0.3rem !important;
    }
  }
}

@-moz-document url-prefix() {
  textarea:focus-visible {
    outline: none !important;
  }
}